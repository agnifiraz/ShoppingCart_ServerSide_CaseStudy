"use strict";(self["webpackChunkcasestudy"]=self["webpackChunkcasestudy"]||[]).push([[743],{5572:(t,e,a)=>{a.d(e,{C:()=>r,_:()=>l});const s="/api/",l=async t=>{let e,a=c();try{let l=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await l.json()}catch(l){console.log(l),e={error:`Error has occured: ${l.message}`}}return e},r=async(t,e)=>{let a,l=c();try{let r=await fetch(`${s}${t}`,{method:"POST",headers:l,body:JSON.stringify(e)});a=await r.json()}catch(r){a=r}return a},c=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}},7081:(t,e,a)=>{a.d(e,{p:()=>l,x:()=>s});const s=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),l=t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),s=e.getMonth()+1,l=e.getFullYear(),r=e.getHours(),c=e.getMinutes();return c<10&&(c="0"+c),l+"-"+s+"-"+a+"  "+r+":"+c}},4743:(t,e,a)=>{a.r(e),a.d(e,{default:()=>J});var s=a(9835),l=a(6970);const r={class:"text-center"},c=["src"],n=(0,s._)("div",{class:"text-h6 text-center text-primary"},"Cart Contents",-1),o=["src"],i={class:"text-h6 text-positive"},m={key:0,style:{width:"90vw","margin-left":"5vw","margin-top":"1vh"}},u=(0,s.Uk)("Name"),d=(0,s.Uk)("Qty"),w=(0,s.Uk)("MSRP"),f=(0,s.Uk)("Extended"),g=(0,s.Uk)((0,l.zw)("")),p=(0,s.Uk)((0,l.zw)("")),y=(0,s.Uk)((0,l.zw)("Sub:")),_=(0,s.Uk)((0,l.zw)("")),k=(0,s.Uk)((0,l.zw)("")),x=(0,s.Uk)((0,l.zw)("")),h=(0,s.Uk)((0,l.zw)("")),b=(0,s.Uk)((0,l.zw)("Total:")),W={class:"text-center q-mt-md q-mb-lg"};function C(t,e,a,C,q,v){const z=(0,s.up)("q-avatar"),U=(0,s.up)("q-item-section"),S=(0,s.up)("q-item"),j=(0,s.up)("q-list"),D=(0,s.up)("q-card"),I=(0,s.up)("q-scroll-area"),Q=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[(0,s.Wm)(z,{class:"q-mt-md",size:"xl",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"/img/logo.png"},null,8,c)])),_:1}),n,(0,s.Wm)(z,{class:"q-mt-md",size:"xl",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"cart.png"},null,8,o)])),_:1}),(0,s._)("div",i,(0,l.zw)(C.state.status),1)]),C.state.cart.length>0?((0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("div",null,[(0,s.Wm)(S,{style:{bottom:"-2vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{class:"col-2 q-ml-lg text-accent",style:{"font-weight":"bold","font-size":"large"}},{default:(0,s.w5)((()=>[u])),_:1}),(0,s.Wm)(U,{class:"col-2 q-ml-lg text-accent",style:{"font-weight":"bold","font-size":"large"}},{default:(0,s.w5)((()=>[d])),_:1}),(0,s.Wm)(U,{class:"col-2 q-ml-lg text-accent",style:{"font-weight":"bold","font-size":"large"}},{default:(0,s.w5)((()=>[w])),_:1}),(0,s.Wm)(U,{class:"q-ml-md text-accent",style:{"font-weight":"bold","font-size":"large"}},{default:(0,s.w5)((()=>[f])),_:1})])),_:1}),(0,s.Wm)(I,{style:{height:"40vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(j,{separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(C.state.cart,(t=>((0,s.wg)(),(0,s.j4)(S,{key:t.id,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{class:"col-2"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t.item.productName),1)])),_:2},1024),(0,s.Wm)(U,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t.qty),1)])),_:2},1024),(0,s.Wm)(U,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(C.formatCurrency(t.item.msrp)),1)])),_:2},1024),(0,s.Wm)(U,{class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(C.formatCurrency(t.item.msrp*t.qty)),1)])),_:2},1024)])),_:2},1024)))),128)),((0,s.wg)(),(0,s.j4)(S,{in:"",state:"",key:C.state.id,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{class:"col-2"},{default:(0,s.w5)((()=>[g])),_:1}),(0,s.Wm)(U,{class:"text-center"},{default:(0,s.w5)((()=>[p])),_:1}),(0,s.Wm)(U,{class:"text-center",style:{"font-weight":"bold","margin-left":"10px"}},{default:(0,s.w5)((()=>[y])),_:1}),(0,s.Wm)(U,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(C.formatCurrency(C.state.sub)),1)])),_:1})])),_:1})),((0,s.wg)(),(0,s.j4)(S,{in:"",state:"",key:C.state.id,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{class:"col-2"},{default:(0,s.w5)((()=>[_])),_:1}),(0,s.Wm)(U,{class:"text-center"},{default:(0,s.w5)((()=>[k])),_:1}),(0,s.Wm)(U,{class:"text-center",style:{"font-weight":"bold"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)("Tax(13%):"),1)])),_:1}),(0,s.Wm)(U,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(C.formatCurrency(C.state.tax)),1)])),_:1})])),_:1})),((0,s.wg)(),(0,s.j4)(S,{in:"",state:"",key:C.state.id,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{class:"col-2"},{default:(0,s.w5)((()=>[x])),_:1}),(0,s.Wm)(U,{class:"text-center"},{default:(0,s.w5)((()=>[h])),_:1}),(0,s.Wm)(U,{class:"text-center text-primary",style:{"font-weight":"bold"}},{default:(0,s.w5)((()=>[b])),_:1}),(0,s.Wm)(U,{class:"text-center text-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(C.formatCurrency(C.state.total)),1)])),_:1})])),_:1}))])),_:1})])),_:1})])),_:1}),(0,s._)("div",W,[(0,s.Wm)(Q,{class:"q-mr-sm",color:"primary",label:"Save Cart",disable:C.state.cart.length<1,onClick:e[0]||(e[0]=t=>C.saveCart())},null,8,["disable"]),(0,s.Wm)(Q,{color:"primary",label:"Clear Cart",onClick:e[1]||(e[1]=t=>C.clearCart())})])])])):(0,s.kq)("",!0)],64)}var q=a(499),v=a(7081),z=a(5572);const U={setup(){let t=(0,q.qj)({status:"",sub:0,tax:0,total:0,cart:[]});(0,s.bv)((()=>{sessionStorage.getItem("cart")?(t.cart=JSON.parse(sessionStorage.getItem("cart")),t.cart.forEach((e=>{t.sub+=e.item.msrp*e.qty,t.tax=.13*t.sub,t.total=t.sub+t.tax}))):t.cart=[]}));const e=()=>{sessionStorage.removeItem("cart"),t.cart=[],t.status="Cart emptied"},a=async()=>{let a=JSON.parse(sessionStorage.getItem("customer")),s=JSON.parse(sessionStorage.getItem("cart"));try{t.status="sending cart info to server";let l={email:a.email,selections:s},r=await(0,z.C)("order",l);r.indexOf("not")>0||e(),t.status=r}catch(l){console.log(l),t.status=`Error add cart: ${l}`}};return{state:t,clearCart:e,formatCurrency:v.x,saveCart:a}}};var S=a(1639),j=a(1357),D=a(490),I=a(1233),Q=a(1019),Z=a(4458),N=a(3246),O=a(4455),T=a(9984),$=a.n(T);const E=(0,S.Z)(U,[["render",C]]),J=E;$()(U,"components",{QAvatar:j.Z,QItem:D.Z,QItemSection:I.Z,QScrollArea:Q.Z,QCard:Z.Z,QList:N.Z,QBtn:O.Z})}}]);